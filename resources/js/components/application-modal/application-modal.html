<div class="modal-header">
    <h5 class="modal-title">Отправить заявку</h5>
    <button type="button" class="close" ng-click="$ctrl.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
</div>

<div class="modal-body">

    <div ng-if="!$ctrl.user" class="alert alert-danger">
        <a href="" ng-click="$ctrl.openLoginModal()">Войдите</a> или
        <a href="" ng-click="$ctrl.openRegisterModal()">Зарегистрируйтесь</a>
    </div>

    <div ng-if="$ctrl.user">

        <div ng-repeat="form in $ctrl.forms track by $index">

            <form ng-submit="$ctrl.submit($index)">

                <div class="form-group" ng-repeat="field in form.fields track by $index">

                    <label>{{field.label}}:</label>

                    <input type="text"
                           ng-if="field.type == 'text'"
                           class="form-control"
                           ng-model="field.value"
                           ng-required="field.isRequired">

                    <textarea class="form-control"
                              ng-if="field.type == 'textarea'"
                              ng-model="field.value"
                              ng-required="field.isRequired"></textarea>

                </div>

                <button type="submit" class="btn btn-primary">{{$last ? 'Отправить' : 'Далее'}}</button>

            </form>

        </div>


    </div>

</div>

<div class="modal-footer">
    <button type="button" class="btn btn-secondary" ng-click="$ctrl.dismiss()">Close</button>
    <button type="button" class="btn btn-primary" ng-click="$ctrl.saves()">Save changes</button>
</div>